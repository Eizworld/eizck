<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<title>Mess Login</title>
</head>
<body class="bg-light">

<div class="container vh-100 d-flex align-items-center">
 <div class="card p-4 w-100">
  <h3 class="text-center mb-3">ğŸ” Mess Login</h3>
  <input id="email" class="form-control mb-2" placeholder="Email">
  <input id="password" type="password" class="form-control mb-3" placeholder="Password">
  <button class="btn btn-primary w-100" onclick="login()">Login</button>
 </div>
</div>

<script type="module">
import { auth, db } from "./firebase.js";
import { signInWithEmailAndPassword } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { doc, getDoc } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

window.login = async ()=>{
 const u = await signInWithEmailAndPassword(auth,email.value,password.value);
 const snap = await getDoc(doc(db,"users",u.user.uid));
 snap.data().role==="admin" ? location="admin.html" : location="dashboard.html";
}
</script>

</body>
</html>